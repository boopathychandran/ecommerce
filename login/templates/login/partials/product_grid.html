{% load static %}
<div class="products-grid" id="product-grid-area">
    {% for product in products %}
        {% include 'login/partials/product_card.html' %}
    {% empty %}
        <div style="grid-column:1/-1;text-align:center;padding:4rem;background:rgba(255,255,255,0.02);border-radius:20px;border:1px solid rgba(255,255,255,0.03);">
            <span class="material-icons" style="font-size:4rem;color:var(--muted);opacity:0.6;margin-bottom:1rem;">search_off</span>
            <h3 class="text-muted">No products found</h3>
            <p class="text-muted" style="font-size:0.95rem;">Try adjusting your search query.</p>
        </div>
    {% endfor %}
</div>

<!-- Pagination -->
{% if products.has_other_pages %}
<div style="display: flex; justify-content: center; gap: 1rem; margin-top: 4rem;">
    {% if products.has_previous %}
    <a href="?page={{ products.previous_page_number }}{% if url_params %}&{{ url_params }}{% endif %}"
        class="filter-chip"
        hx-get="{% url 'ecommerce' %}?page={{ products.previous_page_number }}{% if url_params %}&{{ url_params }}{% endif %}"
        hx-target="#product-grid-area" hx-push-url="true">
        <span class="material-icons" style="vertical-align: middle;">arrow_back</span> Prev
    </a>
    {% endif %}

    <span style="display: flex; align-items: center; font-weight: 700; color: var(--text-muted);">
        {{ products.number }} / {{ products.paginator.num_pages }}
    </span>

    {% if products.has_next %}
    <a href="?page={{ products.next_page_number }}{% if url_params %}&{{ url_params }}{% endif %}" class="filter-chip"
        hx-get="{% url 'ecommerce' %}?page={{ products.next_page_number }}{% if url_params %}&{{ url_params }}{% endif %}"
        hx-target="#product-grid-area" hx-push-url="true">
        Next <span class="material-icons" style="vertical-align: middle;">arrow_forward</span>
    </a>
    {% endif %}
</div>
{% endif %}